---
source: crates/thread_aware_macros_impl/tests/derive.rs
expression: expand(input)
---
impl<T, U> ::thread_aware::ThreadAware for EnumNamedPhantom<T, U> {
    #[allow(
        clippy::redundant_clone,
        reason = "macro generated pattern moves each field once"
    )]
    fn relocated(
        self,
        source: ::thread_aware::affinity::MemoryAffinity,
        destination: ::thread_aware::affinity::PinnedAffinity,
    ) -> Self {
        match self {
            Self::Variant { data, marker } => {
                Self::Variant {
                    data: ::thread_aware::ThreadAware::relocated(
                        data,
                        source,
                        destination,
                    ),
                    marker: marker,
                }
            }
            Self::Other { value, phantom } => {
                Self::Other {
                    value: ::thread_aware::ThreadAware::relocated(
                        value,
                        source,
                        destination,
                    ),
                    phantom: phantom,
                }
            }
        }
    }
}
