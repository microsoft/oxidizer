# Copyright (c) Microsoft Corporation.
# Licensed under the MIT License.

[package]
name = "obscuri"
description = "Standards-compliant URI handling with templating, safety validation, and data classification"
version = "0.1.0"
readme = "README.md"
keywords = ["oxidizer", "url", "psrsing", "templates", "uri"]
categories = ["encoding", "parser-implementations", "template-engine", "web-programming"]

edition.workspace = true
rust-version.workspace = true
authors.workspace = true
license.workspace = true
homepage.workspace = true
repository = "https://github.com/microsoft/oxidizer/tree/main/crates/obscuri"

[package.metadata.cargo_check_external_types]
allowed_external_types = [
    "data_privacy::data_class::DataClass",
    "data_privacy::redacted::RedactedDebug",
    "data_privacy::redacted::RedactedDisplay",
    "data_privacy::redaction_engine::RedactionEngine",
    "data_privacy::sensitive::Sensitive",
    "http::error::Error",
    "http::uri::authority::Authority",
    "http::uri::InvalidUri",
    "http::uri::InvalidUriParts",
    "http::uri::Parts",
    "http::uri::path::PathAndQuery",
    "http::uri::scheme::Scheme",
    "http::uri::Uri",
    "obscuri_macros::templated",
    "obscuri_macros::UriFragment",
    "obscuri_macros::UriUnsafeFragment",
    "ohno::enrichable::Enrichable",
    "ohno::error_ext::ErrorExt",
]

[package.metadata.docs.rs]
all-features = true

[dependencies]
data_privacy.workspace = true
http.workspace = true
obscuri_macros.workspace = true
ohno.workspace = true
uuid.workspace = true

[dev-dependencies]
mutants.workspace = true
static_assertions.workspace = true
tokio = { workspace = true, features = ["macros", "rt-multi-thread"] }
uuid = { workspace = true, features = ["v4"] }

[lints]
workspace = true

[[example]]
name = "classified_templating"
path = "examples/classified_templating.rs"

[[example]]
name = "uri_templating"
path = "examples/uri_templating.rs"
